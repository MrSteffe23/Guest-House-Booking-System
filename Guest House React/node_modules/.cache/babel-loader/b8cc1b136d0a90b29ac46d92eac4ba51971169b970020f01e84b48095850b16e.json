{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stef_\\\\Desktop\\\\frontend\\\\src\\\\components\\\\AdminBedroom.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport NewImageDisplay from './NewImageDisplay';\nimport { Modal, Button, Carousel } from 'react-bootstrap';\nimport ImageUploadForm from './ImageUploadForm';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdminBedRoom(_ref) {\n  _s();\n  let {\n    room\n  } = _ref;\n  const [number, setNumber] = useState(room.number);\n  const [bedsCount, setBedsCount] = useState(room.bedsCount);\n  const [tvsCount, setTvsCount] = useState(room.tvsCount);\n  const [color, setColor] = useState(room.color);\n  const [details, setDetails] = useState(room.details);\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const [showModify, setShowModify] = useState(false);\n  const handleCloseModify = () => setShowModify(false);\n  const handleShowModify = () => setShowModify(true);\n  const [imageCount, setImageCount] = useState(3); // Initialize with a default value\n  const [deletedImages, setDeletedImages] = useState([]);\n  const [modificationStatus, setModificationStatus] = useState(false); // State variable to track modification status\n\n  useEffect(() => {\n    axios.get(`/api/v1/images/type/bedroom${room.number}House${room.idHouse}`).then(response => {\n      const images = response.data;\n      const count = images.length;\n      setImageCount(count);\n    }).catch(error => {\n      console.error('Error retrieving image count:', error);\n    });\n    getImageIdsToDelete().then(imageIds => {\n      setDeletedImages(imageIds);\n    }).catch(error => {\n      console.error('Error retrieving image IDs:', error);\n    });\n  }, [room.number]);\n  const renderImagesToDelete = () => {\n    return deletedImages.map((imageId, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"m-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => deleteImage(imageId),\n        children: \"Delete image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NewImageDisplay, {\n        type: `bedroom${room.number}House${room.idHouse}`,\n        number: index + 1,\n        styling: \"customimg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this));\n  };\n  const getImageIdsToDelete = async () => {\n    const imageIds = [];\n    for (let i = 1; i <= imageCount; i++) {\n      try {\n        const imageId = await getImageIdByTypeAndNumber(i);\n        imageIds.push(imageId);\n      } catch (error) {\n        console.error('Error retrieving image ID:', error);\n      }\n    }\n    return imageIds;\n  };\n  const getImageIdByTypeAndNumber = async number => {\n    try {\n      const response = await axios.get(`/api/v1/images/typeId/bedroom${room.number}House${room.idHouse}/${number}`);\n      const image = response.data;\n      return image.id;\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  // Function to update the deletedImages state\n  const updateDeletedImages = imageId => {\n    setDeletedImages(prevDeletedImages => prevDeletedImages.filter(id => id !== imageId));\n  };\n  const deleteImage = imageId => {\n    console.log(\"Deleting image \" + imageId);\n    axios.delete(`/api/v1/images/${imageId}`).then(response => {\n      // Handle successful deletion\n      console.log('Image deleted successfully:', response);\n      // Refresh the image count\n      axios.get(`/api/v1/images/type/bedroom${room.number}`).then(response => {\n        const images = response.data;\n        const count = images.length;\n        setImageCount(count);\n        updateDeletedImages(imageId); // Update deletedImages state after successful deletion\n      }).catch(error => {\n        console.error('Error retrieving image count:', error);\n      });\n    }).catch(error => {\n      // Handle error\n      console.error('Error deleting image:', imageId);\n      // Display an error message to the user if needed\n    });\n  };\n\n  const renderImages = () => {\n    const images = [];\n    for (let i = 1; i <= imageCount; i++) {\n      images.push( /*#__PURE__*/_jsxDEV(Carousel.Item, {\n        children: /*#__PURE__*/_jsxDEV(NewImageDisplay, {\n          type: `bedroom${room.number}House${room.idHouse}`,\n          number: i,\n          styling: \"bigimg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this));\n    }\n    return images;\n  };\n  const handleModify = () => {\n    const updatedNumber = String(number); // Convert to string if necessary\n    const updatedBedsCount = String(bedsCount); // Convert to string if necessary\n    const updatedTvsCount = String(tvsCount); // Convert to string if necessary\n\n    // Check if any field is empty\n    if (updatedNumber.trim() === '' || updatedBedsCount.trim() === '' || updatedTvsCount.trim() === '' || color.trim() === '' || details.trim() === '') {\n      alert('Please fill in all fields.');\n      return; // Stop execution if any field is empty\n    }\n\n    const updatedBedroom = {\n      idHouse: room.idHouse,\n      number: updatedNumber,\n      bedsCount: updatedBedsCount,\n      tvsCount: updatedTvsCount,\n      color: color,\n      details: details\n    };\n    axios.put(`/api/v1/bedrooms/${room.id}`, updatedBedroom).then(response => {\n      // Handle successful update\n      console.log('Bedroom updated successfully:', response.data);\n      handleCloseModify();\n      // Clear the input values\n      setNumber(number);\n      setBedsCount(bedsCount);\n      setTvsCount(tvsCount);\n      setColor(color);\n      setDetails(details);\n      room.number = updatedNumber;\n      room.bedsCount = updatedBedsCount;\n      room.tvsCount = updatedTvsCount;\n      room.color = color;\n      room.details = details;\n      setModificationStatus(!modificationStatus); // Update modification status to trigger re-render\n    }).catch(error => {\n      // Handle error\n      console.error('Error updating bedroom:', error);\n      // Display an error message to the user if needed\n    });\n  };\n\n  const handleImageUpload = imageIds => {\n    setDeletedImages(prevDeletedImages => [...prevDeletedImages, ...imageIds]);\n  };\n  const handleCloseFunction = () => {\n    handleCloseModify();\n    setModificationStatus(!modificationStatus); // Update modification status to trigger re-render\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row boxshadow\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-4\",\n      children: [/*#__PURE__*/_jsxDEV(NewImageDisplay, {\n        type: `bedroom${room.number}House${room.idHouse}`,\n        number: 1,\n        styling: \"smallimg\"\n      }, modificationStatus ? 'modified' : 'notModified', false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-7\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Room number \", room.number]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [\"Beds count: \", room.bedsCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [\"Tvs count: \", room.tvsCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [\"Color: \", room.color]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          float: 'right'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handleShow,\n            children: \"View details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handleShowModify,\n            children: \"Modify details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      size: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: [\"Room number \", room.number]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Carousel, {\n          children: renderImages()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Details: \", room.details]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: handleClose,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }, this)]\n    }, modificationStatus ? 'modified' : 'notModified', true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModify,\n      onHide: handleCloseModify,\n      size: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: [\"Modify Room number \", room.number]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row justify-content-center mt-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Complete the room specifications:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row justify-content-center mt-5 boxshadow m-5\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"number\",\n                      children: /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"Number:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 229,\n                        columnNumber: 69\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 229,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      id: \"number\",\n                      className: \"form-control mt-1 inputstyling\",\n                      placeholder: \"Enter number\",\n                      value: number,\n                      onChange: e => {\n                        setNumber(e.target.value);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 230,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"bedsCount\",\n                      children: /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"Beds Count:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 234,\n                        columnNumber: 72\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 234,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      id: \"bedsCount\",\n                      className: \"form-control mt-1 inputstyling\",\n                      placeholder: \"Enter beds count\",\n                      value: bedsCount,\n                      onChange: e => {\n                        setBedsCount(e.target.value);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 235,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 233,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"tvsCount\",\n                      children: /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"TVs Count:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 239,\n                        columnNumber: 71\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 239,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      id: \"tvsCount\",\n                      className: \"form-control mt-1 inputstyling\",\n                      placeholder: \"Enter TVs count\",\n                      value: tvsCount,\n                      onChange: e => {\n                        setTvsCount(e.target.value);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 240,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"color\",\n                      children: /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"Color:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 244,\n                        columnNumber: 68\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 244,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      id: \"color\",\n                      className: \"form-control mt-1 inputstyling\",\n                      placeholder: \"Select color\",\n                      value: color,\n                      onChange: e => {\n                        setColor(e.target.value);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 245,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"details\",\n                      children: /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"Details:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 249,\n                        columnNumber: 70\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 249,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                      type: \"text\",\n                      id: \"details\",\n                      className: \"form-control mt-1 inputstyling\",\n                      placeholder: \"Enter details\",\n                      rows: 3,\n                      value: details,\n                      onChange: e => {\n                        setDetails(e.target.value);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 250,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Choose images to delete:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 44\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: renderImagesToDelete()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Choose images to add:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 44\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(ImageUploadForm, {\n                  type: `bedroom${room.number}House${room.idHouse}`,\n                  onImageUpload: handleImageUpload\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: handleCloseFunction,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: handleModify,\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 182,\n    columnNumber: 9\n  }, this);\n}\n_s(AdminBedRoom, \"IKBYd6kj5mOAPzXoE3vZ5QUbrlQ=\");\n_c = AdminBedRoom;\nexport default AdminBedRoom;\nvar _c;\n$RefreshReg$(_c, \"AdminBedRoom\");","map":{"version":3,"names":["React","useState","useEffect","NewImageDisplay","Modal","Button","Carousel","ImageUploadForm","axios","jsxDEV","_jsxDEV","AdminBedRoom","_ref","_s","room","number","setNumber","bedsCount","setBedsCount","tvsCount","setTvsCount","color","setColor","details","setDetails","show","setShow","handleClose","handleShow","showModify","setShowModify","handleCloseModify","handleShowModify","imageCount","setImageCount","deletedImages","setDeletedImages","modificationStatus","setModificationStatus","get","idHouse","then","response","images","data","count","length","catch","error","console","getImageIdsToDelete","imageIds","renderImagesToDelete","map","imageId","index","className","children","onClick","deleteImage","fileName","_jsxFileName","lineNumber","columnNumber","type","styling","i","getImageIdByTypeAndNumber","push","image","id","updateDeletedImages","prevDeletedImages","filter","log","delete","renderImages","Item","handleModify","updatedNumber","String","updatedBedsCount","updatedTvsCount","trim","alert","updatedBedroom","put","handleImageUpload","handleCloseFunction","style","float","onHide","size","Header","Title","Body","Footer","variant","htmlFor","placeholder","value","onChange","e","target","rows","onImageUpload","_c","$RefreshReg$"],"sources":["C:/Users/stef_/Desktop/frontend/src/components/AdminBedroom.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport NewImageDisplay from './NewImageDisplay';\r\nimport { Modal, Button, Carousel } from 'react-bootstrap';\r\nimport ImageUploadForm from './ImageUploadForm';\r\nimport axios from 'axios';\r\n\r\nfunction AdminBedRoom({ room }) {\r\n    const [number, setNumber] = useState(room.number);\r\n    const [bedsCount, setBedsCount] = useState(room.bedsCount);\r\n    const [tvsCount, setTvsCount] = useState(room.tvsCount);\r\n    const [color, setColor] = useState(room.color);\r\n    const [details, setDetails] = useState(room.details);\r\n    const [show, setShow] = useState(false);\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    const [showModify, setShowModify] = useState(false);\r\n    const handleCloseModify = () => setShowModify(false);\r\n    const handleShowModify = () => setShowModify(true);\r\n    const [imageCount, setImageCount] = useState(3); // Initialize with a default value\r\n    const [deletedImages, setDeletedImages] = useState([]);\r\n    const [modificationStatus, setModificationStatus] = useState(false); // State variable to track modification status\r\n\r\n\r\n    useEffect(() => {\r\n        axios\r\n            .get(`/api/v1/images/type/bedroom${room.number}House${room.idHouse}`)\r\n            .then(response => {\r\n                const images = response.data;\r\n                const count = images.length;\r\n                setImageCount(count);\r\n            })\r\n            .catch(error => {\r\n                console.error('Error retrieving image count:', error);\r\n            });\r\n\r\n        getImageIdsToDelete().then(imageIds => {\r\n            setDeletedImages(imageIds);\r\n        }).catch(error => {\r\n            console.error('Error retrieving image IDs:', error);\r\n        });\r\n    }, [room.number]);\r\n\r\n    const renderImagesToDelete = () => {\r\n        return deletedImages.map((imageId, index) => (\r\n            <div className='m-3'>\r\n                <button onClick={() => deleteImage(imageId)}>Delete image</button>\r\n                <NewImageDisplay type={`bedroom${room.number}House${room.idHouse}`} number={index + 1} styling={\"customimg\"} />\r\n            </div>\r\n        ));\r\n    };\r\n\r\n    const getImageIdsToDelete = async () => {\r\n        const imageIds = [];\r\n\r\n        for (let i = 1; i <= imageCount; i++) {\r\n            try {\r\n                const imageId = await getImageIdByTypeAndNumber(i);\r\n                imageIds.push(imageId);\r\n            } catch (error) {\r\n                console.error('Error retrieving image ID:', error);\r\n            }\r\n        }\r\n\r\n        return imageIds;\r\n    };\r\n\r\n    const getImageIdByTypeAndNumber = async (number) => {\r\n        try {\r\n            const response = await axios.get(`/api/v1/images/typeId/bedroom${room.number}House${room.idHouse}/${number}`);\r\n            const image = response.data;\r\n            return image.id;\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    // Function to update the deletedImages state\r\n    const updateDeletedImages = (imageId) => {\r\n        setDeletedImages(prevDeletedImages => prevDeletedImages.filter(id => id !== imageId));\r\n    };\r\n\r\n    const deleteImage = (imageId) => {\r\n        console.log(\"Deleting image \" + imageId);\r\n        axios\r\n            .delete(`/api/v1/images/${imageId}`)\r\n            .then(response => {\r\n                // Handle successful deletion\r\n                console.log('Image deleted successfully:', response);\r\n                // Refresh the image count\r\n                axios.get(`/api/v1/images/type/bedroom${room.number}`)\r\n                    .then(response => {\r\n                        const images = response.data;\r\n                        const count = images.length;\r\n                        setImageCount(count);\r\n                        updateDeletedImages(imageId); // Update deletedImages state after successful deletion\r\n                    })\r\n                    .catch(error => {\r\n                        console.error('Error retrieving image count:', error);\r\n                    });\r\n            })\r\n            .catch(error => {\r\n                // Handle error\r\n                console.error('Error deleting image:', imageId);\r\n                // Display an error message to the user if needed\r\n            });\r\n    };\r\n\r\n    const renderImages = () => {\r\n        const images = [];\r\n        for (let i = 1; i <= imageCount; i++) {\r\n            images.push(\r\n                <Carousel.Item key={i}>\r\n                    <NewImageDisplay type={`bedroom${room.number}House${room.idHouse}`} number={i} styling={\"bigimg\"} />\r\n                </Carousel.Item>\r\n            );\r\n        }\r\n        return images;\r\n    };\r\n\r\n    const handleModify = () => {\r\n        const updatedNumber = String(number); // Convert to string if necessary\r\n        const updatedBedsCount = String(bedsCount); // Convert to string if necessary\r\n        const updatedTvsCount = String(tvsCount); // Convert to string if necessary\r\n\r\n        // Check if any field is empty\r\n        if (\r\n            updatedNumber.trim() === '' ||\r\n            updatedBedsCount.trim() === '' ||\r\n            updatedTvsCount.trim() === '' ||\r\n            color.trim() === '' ||\r\n            details.trim() === ''\r\n        ) {\r\n            alert('Please fill in all fields.');\r\n            return; // Stop execution if any field is empty\r\n        }\r\n\r\n        const updatedBedroom = {\r\n            idHouse: room.idHouse,\r\n            number: updatedNumber,\r\n            bedsCount: updatedBedsCount,\r\n            tvsCount: updatedTvsCount,\r\n            color: color,\r\n            details: details,\r\n        };\r\n\r\n        axios\r\n            .put(`/api/v1/bedrooms/${room.id}`, updatedBedroom)\r\n            .then(response => {\r\n                // Handle successful update\r\n                console.log('Bedroom updated successfully:', response.data);\r\n                handleCloseModify();\r\n                // Clear the input values\r\n                setNumber(number);\r\n                setBedsCount(bedsCount);\r\n                setTvsCount(tvsCount);\r\n                setColor(color);\r\n                setDetails(details);\r\n                room.number = updatedNumber;\r\n                room.bedsCount = updatedBedsCount;\r\n                room.tvsCount = updatedTvsCount;\r\n                room.color = color;\r\n                room.details = details;\r\n                setModificationStatus(!modificationStatus); // Update modification status to trigger re-render\r\n            })\r\n            .catch(error => {\r\n                // Handle error\r\n                console.error('Error updating bedroom:', error);\r\n                // Display an error message to the user if needed\r\n            });\r\n    };\r\n\r\n    const handleImageUpload = (imageIds) => {\r\n        setDeletedImages(prevDeletedImages => [...prevDeletedImages, ...imageIds]);\r\n      };\r\n\r\n    const handleCloseFunction = () => {\r\n        handleCloseModify();\r\n        setModificationStatus(!modificationStatus); // Update modification status to trigger re-render\r\n      };\r\n\r\n    return (\r\n        <div className=\"row boxshadow\">\r\n            <div className=\"col-md-4\">\r\n                <NewImageDisplay type={`bedroom${room.number}House${room.idHouse}`} number={1} styling={\"smallimg\"}\r\n                key={modificationStatus ? 'modified' : 'notModified'} // Use key prop to trigger re-render\r\n                /> {/* Pass the necessary props */}\r\n            </div>\r\n            <div className=\"col-md-7\">\r\n                <h1>Room number {room.number}</h1>\r\n                <h5>Beds count: {room.bedsCount}</h5>\r\n                <h5>Tvs count: {room.tvsCount}</h5>\r\n                <h5>Color: {room.color}</h5>\r\n\r\n                <div style={{ float: 'right' }}>\r\n                    <div className=\"button-group\">\r\n                        <button className=\"btn btn-primary\" onClick={handleShow}>View details</button>\r\n                        <button className=\"btn btn-primary\" onClick={handleShowModify}>Modify details</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <Modal show={show} onHide={handleClose} size='lg' key={modificationStatus ? 'modified' : 'notModified'}>\r\n                <Modal.Header>\r\n                    <Modal.Title>Room number {room.number}</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Carousel>{renderImages()}</Carousel>\r\n                    <p>Details: {room.details}</p>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={handleClose}>\r\n                        Close\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n\r\n            <Modal show={showModify} onHide={handleCloseModify} size='lg'>\r\n                <Modal.Header>\r\n                    <Modal.Title>Modify Room number {room.number}</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <div>\r\n                        <div className='row justify-content-center mt-5'>\r\n                            <div>\r\n                                <div>\r\n                                    <h3>Complete the room specifications:</h3>\r\n                                    <div className='row justify-content-center mt-5 boxshadow m-5'>\r\n                                        <div className=\"row\">\r\n                                            <label htmlFor=\"number\"><b>Number:</b></label>\r\n                                            <input type=\"text\" id=\"number\" className='form-control mt-1 inputstyling' placeholder='Enter number'\r\n                                                value={number} onChange={(e) => { setNumber(e.target.value) }} />\r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <label htmlFor=\"bedsCount\"><b>Beds Count:</b></label>\r\n                                            <input type=\"text\" id=\"bedsCount\" className='form-control mt-1 inputstyling' placeholder='Enter beds count'\r\n                                                value={bedsCount} onChange={(e) => { setBedsCount(e.target.value) }} />\r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <label htmlFor=\"tvsCount\"><b>TVs Count:</b></label>\r\n                                            <input type=\"text\" id=\"tvsCount\" className='form-control mt-1 inputstyling' placeholder='Enter TVs count'\r\n                                                value={tvsCount} onChange={(e) => { setTvsCount(e.target.value) }} />\r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <label htmlFor=\"color\"><b>Color:</b></label>\r\n                                            <input type=\"text\" id=\"color\" className='form-control mt-1 inputstyling' placeholder='Select color'\r\n                                                value={color} onChange={(e) => { setColor(e.target.value) }} />\r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <label htmlFor=\"details\"><b>Details:</b></label>\r\n                                            <textarea type=\"text\" id=\"details\" className='form-control mt-1 inputstyling' placeholder='Enter details' rows={3}\r\n                                                value={details} onChange={(e) => { setDetails(e.target.value) }} />\r\n                                        </div>\r\n                                    </div>\r\n                                    <label><b>Choose images to delete:</b></label>\r\n                                    <div>\r\n                                        {renderImagesToDelete()}\r\n                                    </div>\r\n                                    <label><b>Choose images to add:</b></label>\r\n                                    <ImageUploadForm type={`bedroom${room.number}House${room.idHouse}`} onImageUpload={handleImageUpload}/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={handleCloseFunction}>\r\n                        Close\r\n                    </Button>\r\n                    <Button variant=\"secondary\" onClick={handleModify}>\r\n                        Update\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AdminBedRoom;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}