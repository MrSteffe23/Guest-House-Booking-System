{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stef_\\\\Desktop\\\\frontend\\\\src\\\\screens\\\\HouseDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport Review from '../components/Review';\nimport NewImageDisplay from '../components/NewImageDisplay';\nimport { Carousel } from 'react-bootstrap';\nimport moment from 'moment/moment';\nimport { DatePicker, Space } from 'antd';\nimport { Modal, Button, Form, Input } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  RangePicker\n} = DatePicker;\nfunction HouseDetails() {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState();\n  const [reviews, setReviews] = useState([]);\n  const [house, setHouse] = useState();\n  const [isAvailable, setIsAvailable] = useState(false);\n  const [fromDate, setFromDate] = useState();\n  const [toDate, setToDate] = useState();\n  const [show, setShow] = useState(false);\n  const [name, setName] = useState('');\n  const [address, setAddress] = useState('');\n  const [email, setEmail] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const {\n    houseid\n  } = useParams();\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const responseReviews = await axios.get(`/api/v1/reviews/${houseid}`);\n        const reviews = responseReviews.data;\n        setReviews(reviews);\n        const responseHouse = await axios.get(`/api/v1/houses/${houseid}`);\n        const house = responseHouse.data;\n        setHouse(house);\n        setLoading(false);\n      } catch (error) {\n        setError(true);\n        console.log('Error fetching rooms:', error);\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n  const imageCount = 5; // Define the maximum number of images to retrieve (adjust as needed)\n\n  const renderImages = () => {\n    const images = [];\n    for (let i = 1; i <= imageCount; i++) {\n      images.push( /*#__PURE__*/_jsxDEV(Carousel.Item, {\n        children: /*#__PURE__*/_jsxDEV(NewImageDisplay, {\n          type: house.name,\n          number: i,\n          styling: \"custom-carousel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this));\n    }\n    return images;\n  };\n  function checkDisponibility(dates) {\n    if (dates && dates.length === 2) {\n      var _dates$, _dates$2;\n      const startDate = moment((_dates$ = dates[0]) === null || _dates$ === void 0 ? void 0 : _dates$.toDate()).format('YYYY-MM-DD');\n      const endDate = moment((_dates$2 = dates[1]) === null || _dates$2 === void 0 ? void 0 : _dates$2.toDate()).format('YYYY-MM-DD');\n      setFromDate(startDate);\n      setToDate(endDate);\n\n      // Make the backend call here with the startDate and endDate\n      axios.get(`/api/v1/reservations/${houseid}`).then(response => {\n        const reservations = response.data;\n        // Perform availability check based on reservations data\n        const isAvailable = checkAvailability(reservations, startDate, endDate);\n        setIsAvailable(isAvailable);\n      }).catch(error => {\n        console.log('Error fetching reservations:', error);\n        setIsAvailable(false);\n      });\n    } else {\n      setIsAvailable(false); // Reset availability state if dates are not valid\n    }\n  }\n\n  function checkAvailability(reservations, startDate, endDate) {\n    for (const reservation of reservations) {\n      if (moment(startDate).isBetween(reservation.startDate, reservation.endDate, null, '[]') || moment(endDate).isBetween(reservation.startDate, reservation.endDate, null, '[]') || moment(reservation.startDate).isBetween(startDate, endDate, null, '[]') || moment(reservation.endDate).isBetween(startDate, endDate, null, '[]')) {\n        return false; // Selected dates overlap with a reservation\n      }\n    }\n\n    return true; // Selected dates are available\n  }\n\n  const handleFormSubmit = () => {\n    // Insert new client and reservation into the database\n    axios.post('/api/v1/clients', {\n      name: name,\n      address: address,\n      email: email,\n      phoneNumber: phoneNumber\n    }).then(response => {\n      const clientId = response.data.clientId;\n      const reservationData = {\n        houseId: houseid,\n        clientId: clientId,\n        startDate: fromDate,\n        endDate: toDate\n      };\n      axios.post('/api/v1/reservations', reservationData).then(() => {\n        // Reservation successfully inserted\n        setShow(true);\n      });\n    }).catch(error => {\n      console.log('Error inserting client and reservation:', error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: loading ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center mt-5 boxshadow m-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: house.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Carousel, {\n            children: renderImages()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginTop: '5rem'\n            },\n            children: \"Reviews:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'right'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"House details:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Address:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 21\n                }, this), \" \", house.address]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Location:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 21\n                }, this), \" \", house.location]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Price:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 21\n                }, this), \" \", house.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: `/bedrooms/${houseid}`,\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-primary m-2\",\n                  style: {\n                    float: 'right'\n                  },\n                  children: \"View rooms\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: `/bathrooms/${houseid}`,\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-primary m-2\",\n                  style: {\n                    float: 'right'\n                  },\n                  children: \"View bathrooms\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'right'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-3\",\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Select a date range for booking:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(RangePicker, {\n                format: \"YYYY-MM-DD\",\n                onChange: checkDisponibility\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3\",\n              style: {\n                textAlign: 'right'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Availability:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 21\n                }, this), \" \", isAvailable ? 'Available \\t' : 'Not Available \\t', /*#__PURE__*/_jsxDEV(\"button\", {\n                  disabled: !isAvailable,\n                  className: \"btn btn-primary\",\n                  onClick: handleShow,\n                  children: \"Book Now\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Modal, {\n            show: show,\n            onHide: () => setShow(false),\n            size: \"lg\",\n            children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n              children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n                children: [\"Booking details for \", house.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row mt-5 m-5\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: /*#__PURE__*/_jsxDEV(NewImageDisplay, {\n                    type: house.name,\n                    number: 1,\n                    styling: \"smallimg\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-5\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        textAlign: 'right'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 200,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                          children: \"From date:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 202,\n                          columnNumber: 29\n                        }, this), \" \", fromDate]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 201,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                          children: \"To date:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 205,\n                          columnNumber: 29\n                        }, this), \" \", toDate]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 204,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                          children: \"Total days:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 208,\n                          columnNumber: 29\n                        }, this), ' ', fromDate && toDate ? moment.duration(moment(toDate).diff(moment(fromDate))).asDays() + 1 : 0]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 207,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                          children: \"Total amount:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 212,\n                          columnNumber: 29\n                        }, this), ' ', house.price * (fromDate && toDate ? moment.duration(moment(toDate).diff(moment(fromDate))).asDays() + 1 : 0)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 211,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 215,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 199,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Form, {\n                    children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                      controlId: \"formName\",\n                      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                        children: \"Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 220,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"text\",\n                        placeholder: \"Enter name\",\n                        onChange: e => setName(e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 221,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                      controlId: \"formAddress\",\n                      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                        children: \"Address\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 224,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"text\",\n                        placeholder: \"Enter address\",\n                        onChange: e => setAddress(e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 225,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                      controlId: \"formEmail\",\n                      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                        children: \"Email\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 228,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"email\",\n                        placeholder: \"Enter email\",\n                        onChange: e => setEmail(e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 229,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 227,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                      controlId: \"formPhoneNumber\",\n                      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                        children: \"Phone Number\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 232,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"text\",\n                        placeholder: \"Enter phone number\",\n                        onChange: e => setPhoneNumber(e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 233,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 231,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                onClick: handleFormSubmit,\n                children: \"Finish\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"secondary\",\n                onClick: () => setShow(false),\n                children: \"Go back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row justify-content-center mt-5\",\n          children: loading ? /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 17\n          }, this) : error ? /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 17\n          }, this) : reviews.map(review => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-9\",\n              children: /*#__PURE__*/_jsxDEV(Review, {\n                review: review\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n}\n_s(HouseDetails, \"TQPgbC4gHvJ4SWpwAirJVQaAzeQ=\", false, function () {\n  return [useParams];\n});\n_c = HouseDetails;\nexport default HouseDetails;\nvar _c;\n$RefreshReg$(_c, \"HouseDetails\");","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","axios","Review","NewImageDisplay","Carousel","moment","DatePicker","Space","Modal","Button","Form","Input","jsxDEV","_jsxDEV","Fragment","_Fragment","RangePicker","HouseDetails","_s","loading","setLoading","error","setError","reviews","setReviews","house","setHouse","isAvailable","setIsAvailable","fromDate","setFromDate","toDate","setToDate","show","setShow","name","setName","address","setAddress","email","setEmail","phoneNumber","setPhoneNumber","houseid","fetchData","responseReviews","get","data","responseHouse","console","log","imageCount","renderImages","images","i","push","Item","children","type","number","styling","fileName","_jsxFileName","lineNumber","columnNumber","checkDisponibility","dates","length","_dates$","_dates$2","startDate","format","endDate","then","response","reservations","checkAvailability","catch","reservation","isBetween","handleFormSubmit","post","clientId","reservationData","houseId","className","style","marginTop","textAlign","location","price","to","float","onChange","disabled","onClick","handleShow","onHide","size","Header","Title","Body","duration","diff","asDays","Group","controlId","Label","Control","placeholder","e","target","value","Footer","variant","map","review","_c","$RefreshReg$"],"sources":["C:/Users/stef_/Desktop/frontend/src/screens/HouseDetails.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Review from '../components/Review';\r\nimport NewImageDisplay from '../components/NewImageDisplay';\r\nimport { Carousel } from 'react-bootstrap';\r\nimport moment from 'moment/moment';\r\nimport { DatePicker, Space } from 'antd';\r\nimport { Modal, Button, Form, Input } from 'react-bootstrap';\r\n\r\nconst { RangePicker } = DatePicker;\r\n\r\nfunction HouseDetails() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState();\r\n  const [reviews, setReviews] = useState([]);\r\n  const [house, setHouse] = useState();\r\n  const [isAvailable, setIsAvailable] = useState(false);\r\n  const [fromDate, setFromDate] = useState();\r\n  const [toDate, setToDate] = useState();\r\n  const [show, setShow] = useState(false);\r\n  const [name, setName] = useState('');\r\n  const [address, setAddress] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [phoneNumber, setPhoneNumber] = useState('');\r\n\r\n  const { houseid } = useParams();\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const responseReviews = await axios.get(`/api/v1/reviews/${houseid}`);\r\n        const reviews = responseReviews.data;\r\n        setReviews(reviews);\r\n        const responseHouse = await axios.get(`/api/v1/houses/${houseid}`);\r\n        const house = responseHouse.data;\r\n        setHouse(house);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        setError(true);\r\n        console.log('Error fetching rooms:', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const imageCount = 5; // Define the maximum number of images to retrieve (adjust as needed)\r\n\r\n  const renderImages = () => {\r\n    const images = [];\r\n    for (let i = 1; i <= imageCount; i++) {\r\n      images.push(\r\n        <Carousel.Item key={i}>\r\n          <NewImageDisplay type={house.name} number={i} styling=\"custom-carousel\" />\r\n        </Carousel.Item>\r\n      );\r\n    }\r\n    return images;\r\n  };\r\n\r\n  function checkDisponibility(dates) {\r\n    if (dates && dates.length === 2) {\r\n      const startDate = moment(dates[0]?.toDate()).format('YYYY-MM-DD');\r\n      const endDate = moment(dates[1]?.toDate()).format('YYYY-MM-DD');\r\n      setFromDate(startDate);\r\n      setToDate(endDate);\r\n\r\n      // Make the backend call here with the startDate and endDate\r\n      axios\r\n        .get(`/api/v1/reservations/${houseid}`)\r\n        .then(response => {\r\n          const reservations = response.data;\r\n          // Perform availability check based on reservations data\r\n          const isAvailable = checkAvailability(reservations, startDate, endDate);\r\n          setIsAvailable(isAvailable);\r\n        })\r\n        .catch(error => {\r\n          console.log('Error fetching reservations:', error);\r\n          setIsAvailable(false);\r\n        });\r\n    } else {\r\n      setIsAvailable(false); // Reset availability state if dates are not valid\r\n    }\r\n  }\r\n\r\n  function checkAvailability(reservations, startDate, endDate) {\r\n    for (const reservation of reservations) {\r\n      if (\r\n        moment(startDate).isBetween(reservation.startDate, reservation.endDate, null, '[]') ||\r\n        moment(endDate).isBetween(reservation.startDate, reservation.endDate, null, '[]') ||\r\n        moment(reservation.startDate).isBetween(startDate, endDate, null, '[]') ||\r\n        moment(reservation.endDate).isBetween(startDate, endDate, null, '[]')\r\n      ) {\r\n        return false; // Selected dates overlap with a reservation\r\n      }\r\n    }\r\n    return true; // Selected dates are available\r\n  }\r\n\r\n  const handleFormSubmit = () => {\r\n    // Insert new client and reservation into the database\r\n    axios\r\n      .post('/api/v1/clients', {\r\n        name: name,\r\n        address: address,\r\n        email: email,\r\n        phoneNumber: phoneNumber,\r\n      })\r\n      .then(response => {\r\n        const clientId = response.data.clientId;\r\n        const reservationData = {\r\n          houseId: houseid,\r\n          clientId: clientId,\r\n          startDate: fromDate,\r\n          endDate: toDate,\r\n        };\r\n        axios.post('/api/v1/reservations', reservationData).then(() => {\r\n          // Reservation successfully inserted\r\n          setShow(true);\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log('Error inserting client and reservation:', error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {loading ? (\r\n        <h1>Loading...</h1>\r\n      ) : error ? (\r\n        <h1>Error</h1>\r\n      ) : (\r\n        <>\r\n          <div className='row justify-content-center mt-5 boxshadow m-5'>\r\n            <div className='col-md-6'>\r\n              <h1>{house.name}</h1>\r\n              <Carousel>{renderImages()}</Carousel>\r\n              <h3 style={{ marginTop: '5rem' }}>Reviews:</h3>\r\n            </div>\r\n            <div className='col-md-5'>\r\n              <div className='row'>\r\n                <div style={{ textAlign: 'right' }}>\r\n                  <h1>House details:</h1>\r\n                  <hr />\r\n                  <p>\r\n                    <b>Address:</b> {house.address}\r\n                  </p>\r\n                  <p>\r\n                    <b>Location:</b> {house.location}\r\n                  </p>\r\n                  <p>\r\n                    <b>Price:</b> {house.price}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <Link to={`/bedrooms/${houseid}`}>\r\n                    <button className='btn btn-primary m-2' style={{ float: 'right' }}>\r\n                      View rooms\r\n                    </button>\r\n                  </Link>\r\n                  <Link to={`/bathrooms/${houseid}`}>\r\n                    <button className='btn btn-primary m-2' style={{ float: 'right' }}>\r\n                      View bathrooms\r\n                    </button>\r\n                  </Link>\r\n                </div>\r\n\r\n                <div style={{ textAlign: 'right' }}>\r\n                  <p className='mt-3'>\r\n                    <b>Select a date range for booking:</b>\r\n                  </p>\r\n                  <RangePicker format='YYYY-MM-DD' onChange={checkDisponibility} />\r\n                </div>\r\n                <div className='mt-3' style={{ textAlign: 'right' }}>\r\n                  <p>\r\n                    <b>Availability:</b> {isAvailable ? 'Available \\t' : 'Not Available \\t'}\r\n                    <button disabled={!isAvailable} className='btn btn-primary' onClick={handleShow}>\r\n                      Book Now\r\n                    </button>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              <Modal show={show} onHide={() => setShow(false)} size='lg'>\r\n                <Modal.Header>\r\n                  <Modal.Title>Booking details for {house.name}</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                  <div className='row mt-5 m-5'>\r\n                    <div className='col-md-6'>\r\n                      <NewImageDisplay type={house.name} number={1} styling='smallimg' />\r\n                    </div>\r\n                    <div className='col-md-5'>\r\n                      <div className='row'>\r\n                        <div style={{ textAlign: 'right' }}>\r\n                          <hr />\r\n                          <p>\r\n                            <b>From date:</b> {fromDate}\r\n                          </p>\r\n                          <p>\r\n                            <b>To date:</b> {toDate}\r\n                          </p>\r\n                          <p>\r\n                            <b>Total days:</b>{' '}\r\n                            {fromDate && toDate ? moment.duration(moment(toDate).diff(moment(fromDate))).asDays() + 1 : 0}\r\n                          </p>\r\n                          <p>\r\n                            <b>Total amount:</b>{' '}\r\n                            {house.price * (fromDate && toDate ? moment.duration(moment(toDate).diff(moment(fromDate))).asDays() + 1 : 0)}\r\n                          </p>\r\n                          <hr />\r\n                        </div>\r\n                      </div>\r\n                      <Form>\r\n                        <Form.Group controlId='formName'>\r\n                          <Form.Label>Name</Form.Label>\r\n                          <Form.Control type='text' placeholder='Enter name' onChange={e => setName(e.target.value)} />\r\n                        </Form.Group>\r\n                        <Form.Group controlId='formAddress'>\r\n                          <Form.Label>Address</Form.Label>\r\n                          <Form.Control type='text' placeholder='Enter address' onChange={e => setAddress(e.target.value)} />\r\n                        </Form.Group>\r\n                        <Form.Group controlId='formEmail'>\r\n                          <Form.Label>Email</Form.Label>\r\n                          <Form.Control type='email' placeholder='Enter email' onChange={e => setEmail(e.target.value)} />\r\n                        </Form.Group>\r\n                        <Form.Group controlId='formPhoneNumber'>\r\n                          <Form.Label>Phone Number</Form.Label>\r\n                          <Form.Control type='text' placeholder='Enter phone number' onChange={e => setPhoneNumber(e.target.value)} />\r\n                        </Form.Group>\r\n                      </Form>\r\n                    </div>\r\n                  </div>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                  <Button variant='primary' onClick={handleFormSubmit}>\r\n                    Finish\r\n                  </Button>\r\n                  <Button variant='secondary' onClick={() => setShow(false)}>\r\n                    Go back\r\n                  </Button>\r\n                </Modal.Footer>\r\n              </Modal>\r\n            </div>\r\n            <div className='row justify-content-center mt-5'>\r\n              {loading ? (\r\n                <h1>Loading...</h1>\r\n              ) : error ? (\r\n                <h1>Error</h1>\r\n              ) : (\r\n                reviews.map(review => {\r\n                  return (\r\n                    <div className='col-md-9'>\r\n                      <Review review={review} />\r\n                    </div>\r\n                  );\r\n                })\r\n              )}\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HouseDetails;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}