{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stef_\\\\Desktop\\\\frontend\\\\src\\\\screens\\\\HouseDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport Review from '../components/Review';\nimport NewImageDisplay from '../components/NewImageDisplay';\nimport { Carousel } from 'react-bootstrap';\nimport moment from 'moment/moment';\nimport { DatePicker } from 'antd';\nimport { Modal, Button } from 'react-bootstrap';\nimport ClientRegistration from '../components/ClientRegistration';\nimport NewReview from '../components/NewReview';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  RangePicker\n} = DatePicker;\nfunction HouseDetails() {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState();\n  const [reviews, setReviews] = useState([]);\n  const [house, setHouse] = useState();\n  const [isAvailable, setIsAvailable] = useState(false);\n  const [fromDate, setFromdate] = useState();\n  const [toDate, setTodate] = useState();\n  const [nameClient, setNameClient] = useState('');\n  const [email, setEmail] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [address, setAddress] = useState('');\n  const [showBookNow, setShowBookNow] = useState(false);\n  const handleCloseBookNow = () => setShowBookNow(false);\n  const handleShowBookNow = () => setShowBookNow(true);\n  const [nameUser, setNameUser] = useState('');\n  const [description, setDescription] = useState('');\n  const [stars, setStars] = useState('');\n  const [showAddReview, setShowAddReview] = useState(false);\n  const handleCloseAddReview = () => setShowAddReview(false);\n  const handleShowAddReview = () => setShowAddReview(true);\n  const [imageCount, setImageCount] = useState(5);\n  const {\n    houseid\n  } = useParams();\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const responseReviews = await axios.get(`/api/v1/reviews/${houseid}`);\n        const reviews = responseReviews.data;\n        setReviews(reviews);\n        const responseHouse = await axios.get(`/api/v1/houses/${houseid}`);\n        const house = responseHouse.data;\n        setHouse(house);\n        setLoading(false);\n      } catch (error) {\n        setError(true);\n        console.log('Error fetching rooms:', error);\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n  useEffect(() => {\n    const fetchImageCount = async () => {\n      try {\n        const response = await axios.get(`/api/v1/images/type/${house.name}`);\n        const images = response.data;\n        const count = Math.min(images.length, 5); // Limit the count to a maximum of 5 images\n        setImageCount(count);\n      } catch (error) {\n        console.error('Error retrieving image count:', error);\n      }\n    };\n    if (house) {\n      fetchImageCount();\n    }\n  }, [house]);\n  const renderImages = () => {\n    const images = [];\n    for (let i = 1; i <= imageCount; i++) {\n      images.push( /*#__PURE__*/_jsxDEV(Carousel.Item, {\n        children: /*#__PURE__*/_jsxDEV(NewImageDisplay, {\n          type: house.name,\n          number: i,\n          styling: \"custom-carousel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this));\n    }\n    return images;\n  };\n  function checkDisponibility(dates) {\n    if (dates && dates.length === 2) {\n      var _dates$, _dates$2;\n      const startDate = moment((_dates$ = dates[0]) === null || _dates$ === void 0 ? void 0 : _dates$.toDate()).format('YYYY-MM-DD');\n      const endDate = moment((_dates$2 = dates[1]) === null || _dates$2 === void 0 ? void 0 : _dates$2.toDate()).format('YYYY-MM-DD');\n      setFromdate(startDate);\n      setTodate(endDate);\n\n      // Make the backend call here with the startDate and endDate\n      axios.get(`/api/v1/reservations/${houseid}`).then(response => {\n        const reservations = response.data;\n        // Perform availability check based on reservations data\n        const isAvailable = checkAvailability(reservations, startDate, endDate);\n        setIsAvailable(isAvailable);\n      }).catch(error => {\n        console.log('Error fetching reservations:', error);\n        setIsAvailable(false);\n      });\n    } else {\n      setIsAvailable(false); // Reset availability state if dates are not valid\n    }\n  }\n\n  function checkAvailability(reservations, startDate, endDate) {\n    for (const reservation of reservations) {\n      if (moment(startDate).isBetween(reservation.startDate, reservation.endDate, null, '[]') || moment(endDate).isBetween(reservation.startDate, reservation.endDate, null, '[]') || moment(reservation.startDate).isBetween(startDate, endDate, null, '[]') || moment(reservation.endDate).isBetween(startDate, endDate, null, '[]')) {\n        return false; // Selected dates overlap with a reservation\n      }\n    }\n\n    return true; // Selected dates are available\n  }\n\n  const addNewReservation = () => {\n    // Insert new client and reservation into the database\n    const clientData = {\n      name: nameClient,\n      address: address,\n      email: email,\n      phoneNumber: phoneNumber\n    };\n    console.log(clientData);\n    axios.post('/api/v1/clients', clientData).then(response => {\n      const clientId = response.data.id;\n      const reservationData = {\n        idHouse: houseid,\n        idClient: clientId,\n        startDate: fromDate,\n        endDate: toDate\n      };\n      axios.post('/api/v1/reservations', reservationData).then(() => {\n        // Reservation successfully inserted\n        console.log(\"SUCCESS\");\n        handleCloseBookNow();\n      });\n    }).catch(error => {\n      console.log('Error inserting client and reservation:', error);\n      alert('Insert a correct phone number and a correct email. If the email is correct and this error is still showing up, then the email is already used, so introduce another one', house.name);\n    });\n  };\n  const alert = (message, title) => {\n    window.alert(`${title ? title + '\\n' : ''}${message}`);\n  };\n  const addNewReview = () => {\n    // Check if nameUser is empty\n    if (nameUser.trim() === '') {\n      alert('Please enter a name.', house.name);\n      return; // Stop execution if nameUser is empty\n    }\n    // Insert new client and reservation into the database\n    const userData = {\n      username: nameUser\n    };\n    console.log(userData);\n    axios.post('/api/v1/users', userData).then(response => {\n      const userId = response.data.id;\n      const reviewData = {\n        idHouse: houseid,\n        idUser: userId,\n        description: description,\n        starsCount: stars\n      };\n      axios.post('/api/v1/reviews', reviewData).then(() => {\n        // Reservation successfully inserted\n        console.log(\"SUCCESS\");\n        handleCloseAddReview();\n        // Clear the input values\n        setNameUser('');\n        setDescription('');\n        setStars('');\n      });\n    }).catch(error => {\n      console.log('Error inserting client and reservation:', error);\n      alert('Name already exists. Please choose a different name.', house.name);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: loading ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 25\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 57\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center mt-5 boxshadow m-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: house.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Carousel, {\n            children: renderImages()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary mt-5\",\n            onClick: handleShowAddReview,\n            children: \"Add Review\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Modal, {\n            show: showAddReview,\n            onHide: handleCloseAddReview,\n            size: \"lg\",\n            children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n              children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n                children: [\"Write a review for \", house.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row m-5\",\n                children: /*#__PURE__*/_jsxDEV(NewReview, {\n                  name: nameUser,\n                  description: description,\n                  stars: stars,\n                  setName: setNameUser,\n                  setDescription: setDescription,\n                  setStars: setStars\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: '#',\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-primary m-2\",\n                  style: {\n                    float: 'right'\n                  },\n                  onClick: addNewReview,\n                  children: \"Submit review\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"secondary\",\n                onClick: handleCloseAddReview,\n                children: \"Go back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginTop: '1rem'\n            },\n            children: [\"Reviews:\", /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'right'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"House details:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Address:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 40\n                }, this), \" \", house.address]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Location:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 40\n                }, this), \" \", house.location]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Price:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 40\n                }, this), \" \", house.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: `/bedrooms/${houseid}`,\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-primary m-2\",\n                  style: {\n                    float: 'right'\n                  },\n                  children: \"View rooms\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: `/bathrooms/${houseid}`,\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-primary m-2\",\n                  style: {\n                    float: 'right'\n                  },\n                  children: \"View bathrooms\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'right'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-3\",\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Select a date range for booking:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 57\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(RangePicker, {\n                format: \"YYYY-MM-DD\",\n                onChange: checkDisponibility\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3\",\n              style: {\n                textAlign: 'right'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Availability:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 40\n                }, this), \" \", isAvailable ? 'Available \\t' : 'Not Available \\t', /*#__PURE__*/_jsxDEV(\"button\", {\n                  disabled: !isAvailable,\n                  className: \"btn btn-primary\",\n                  onClick: handleShowBookNow,\n                  children: \"Book Now\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Modal, {\n            show: showBookNow,\n            onHide: handleCloseBookNow,\n            size: \"lg\",\n            children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n              children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n                children: [\"Booking details for \", house.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row mt-5 m-5\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: [/*#__PURE__*/_jsxDEV(NewImageDisplay, {\n                    type: house.name,\n                    number: 1,\n                    styling: \"smallimg\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 45\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-5\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        textAlign: 'right'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 275,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                          children: \"From date:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 276,\n                          columnNumber: 56\n                        }, this), \" \", fromDate]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 276,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                          children: \"To date:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 277,\n                          columnNumber: 56\n                        }, this), \" \", toDate]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 277,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                          children: \"Total days:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 278,\n                          columnNumber: 56\n                        }, this), \" \", fromDate && toDate ? moment.duration(moment(toDate).diff(moment(fromDate))).asDays() + 1 : 0]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 278,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                          children: \"Total amount:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 279,\n                          columnNumber: 56\n                        }, this), \" \", house.price * (fromDate && toDate ? moment.duration(moment(toDate).diff(moment(fromDate))).asDays() + 1 : 0)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 279,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 280,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 274,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(ClientRegistration, {\n                  name: nameClient,\n                  email: email,\n                  phoneNumber: phoneNumber,\n                  address: address,\n                  setName: setNameClient,\n                  setEmail: setEmail,\n                  setPhoneNumber: setPhoneNumber,\n                  setAddress: setAddress\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: '#',\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-primary m-2\",\n                  style: {\n                    float: 'right'\n                  },\n                  onClick: addNewReservation,\n                  children: \"Pay now\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"secondary\",\n                onClick: handleCloseBookNow,\n                children: \"Go back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row justify-content-center mt-5\",\n          children: loading ? /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 41\n          }, this) : error ? /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 73\n          }, this) : reviews.map(review => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-9\",\n              children: /*#__PURE__*/_jsxDEV(Review, {\n                review: review\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 40\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 21\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 9\n  }, this);\n}\n_s(HouseDetails, \"8zcooE3tSfhCEDUT4uWQcZ1i8HQ=\", false, function () {\n  return [useParams];\n});\n_c = HouseDetails;\nexport default HouseDetails;\nvar _c;\n$RefreshReg$(_c, \"HouseDetails\");","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","axios","Review","NewImageDisplay","Carousel","moment","DatePicker","Modal","Button","ClientRegistration","NewReview","jsxDEV","_jsxDEV","Fragment","_Fragment","RangePicker","HouseDetails","_s","loading","setLoading","error","setError","reviews","setReviews","house","setHouse","isAvailable","setIsAvailable","fromDate","setFromdate","toDate","setTodate","nameClient","setNameClient","email","setEmail","phoneNumber","setPhoneNumber","address","setAddress","showBookNow","setShowBookNow","handleCloseBookNow","handleShowBookNow","nameUser","setNameUser","description","setDescription","stars","setStars","showAddReview","setShowAddReview","handleCloseAddReview","handleShowAddReview","imageCount","setImageCount","houseid","fetchData","responseReviews","get","data","responseHouse","console","log","fetchImageCount","response","name","images","count","Math","min","length","renderImages","i","push","Item","children","type","number","styling","fileName","_jsxFileName","lineNumber","columnNumber","checkDisponibility","dates","_dates$","_dates$2","startDate","format","endDate","then","reservations","checkAvailability","catch","reservation","isBetween","addNewReservation","clientData","post","clientId","id","reservationData","idHouse","idClient","alert","message","title","window","addNewReview","trim","userData","username","userId","reviewData","idUser","starsCount","className","onClick","show","onHide","size","Header","Title","Body","setName","Footer","to","style","float","variant","marginTop","textAlign","location","price","onChange","disabled","duration","diff","asDays","map","review","_c","$RefreshReg$"],"sources":["C:/Users/stef_/Desktop/frontend/src/screens/HouseDetails.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Review from '../components/Review';\r\nimport NewImageDisplay from '../components/NewImageDisplay';\r\nimport { Carousel } from 'react-bootstrap';\r\nimport moment from 'moment/moment';\r\nimport { DatePicker } from 'antd';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport ClientRegistration from '../components/ClientRegistration';\r\nimport NewReview from '../components/NewReview';\r\n\r\nconst { RangePicker } = DatePicker;\r\n\r\nfunction HouseDetails() {\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState();\r\n    const [reviews, setReviews] = useState([]);\r\n    const [house, setHouse] = useState();\r\n    const [isAvailable, setIsAvailable] = useState(false);\r\n    const [fromDate, setFromdate] = useState();\r\n    const [toDate, setTodate] = useState();\r\n    const [nameClient, setNameClient] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [phoneNumber, setPhoneNumber] = useState('');\r\n    const [address, setAddress] = useState('');\r\n    const [showBookNow, setShowBookNow] = useState(false);\r\n    const handleCloseBookNow = () => setShowBookNow(false);\r\n    const handleShowBookNow = () => setShowBookNow(true);\r\n    const [nameUser, setNameUser] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [stars, setStars] = useState('');\r\n    const [showAddReview, setShowAddReview] = useState(false);\r\n    const handleCloseAddReview = () => setShowAddReview(false);\r\n    const handleShowAddReview = () => setShowAddReview(true);\r\n    const [imageCount, setImageCount] = useState(5);\r\n\r\n    const { houseid } = useParams();\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                setLoading(true);\r\n                const responseReviews = await axios.get(`/api/v1/reviews/${houseid}`);\r\n                const reviews = responseReviews.data;\r\n                setReviews(reviews);\r\n                const responseHouse = await axios.get(`/api/v1/houses/${houseid}`);\r\n                const house = responseHouse.data;\r\n                setHouse(house);\r\n                setLoading(false);\r\n            } catch (error) {\r\n                setError(true);\r\n                console.log('Error fetching rooms:', error);\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const fetchImageCount = async () => {\r\n            try {\r\n                const response = await axios.get(`/api/v1/images/type/${house.name}`);\r\n                const images = response.data;\r\n                const count = Math.min(images.length, 5); // Limit the count to a maximum of 5 images\r\n                setImageCount(count);\r\n            } catch (error) {\r\n                console.error('Error retrieving image count:', error);\r\n            }\r\n        };\r\n\r\n        if (house) {\r\n            fetchImageCount();\r\n        }\r\n    }, [house]);\r\n\r\n    const renderImages = () => {\r\n        const images = [];\r\n        for (let i = 1; i <= imageCount; i++) {\r\n            images.push(\r\n                <Carousel.Item key={i}>\r\n                    <NewImageDisplay type={house.name} number={i} styling=\"custom-carousel\" />\r\n                </Carousel.Item>\r\n            );\r\n        }\r\n        return images;\r\n    };\r\n\r\n    function checkDisponibility(dates) {\r\n        if (dates && dates.length === 2) {\r\n            const startDate = moment(dates[0]?.toDate()).format('YYYY-MM-DD');\r\n            const endDate = moment(dates[1]?.toDate()).format('YYYY-MM-DD');\r\n            setFromdate(startDate);\r\n            setTodate(endDate);\r\n\r\n            // Make the backend call here with the startDate and endDate\r\n            axios.get(`/api/v1/reservations/${houseid}`)\r\n                .then(response => {\r\n                    const reservations = response.data;\r\n                    // Perform availability check based on reservations data\r\n                    const isAvailable = checkAvailability(reservations, startDate, endDate);\r\n                    setIsAvailable(isAvailable);\r\n                })\r\n                .catch(error => {\r\n                    console.log('Error fetching reservations:', error);\r\n                    setIsAvailable(false);\r\n                });\r\n        } else {\r\n            setIsAvailable(false); // Reset availability state if dates are not valid\r\n        }\r\n    }\r\n\r\n    function checkAvailability(reservations, startDate, endDate) {\r\n        for (const reservation of reservations) {\r\n            if (\r\n                moment(startDate).isBetween(reservation.startDate, reservation.endDate, null, '[]') ||\r\n                moment(endDate).isBetween(reservation.startDate, reservation.endDate, null, '[]') ||\r\n                moment(reservation.startDate).isBetween(startDate, endDate, null, '[]') ||\r\n                moment(reservation.endDate).isBetween(startDate, endDate, null, '[]')\r\n            ) {\r\n                return false; // Selected dates overlap with a reservation\r\n            }\r\n        }\r\n        return true; // Selected dates are available\r\n    }\r\n\r\n    const addNewReservation = () => {\r\n        // Insert new client and reservation into the database\r\n        const clientData = {\r\n            name: nameClient,\r\n            address: address,\r\n            email: email,\r\n            phoneNumber: phoneNumber,\r\n        };\r\n        console.log(clientData)\r\n        axios\r\n            .post('/api/v1/clients', clientData)\r\n            .then(response => {\r\n                const clientId = response.data.id;\r\n                const reservationData = {\r\n                    idHouse: houseid,\r\n                    idClient: clientId,\r\n                    startDate: fromDate,\r\n                    endDate: toDate,\r\n                };\r\n                axios.post('/api/v1/reservations', reservationData).then(() => {\r\n                    // Reservation successfully inserted\r\n                    console.log(\"SUCCESS\");\r\n                    handleCloseBookNow();\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.log('Error inserting client and reservation:', error);\r\n                alert('Insert a correct phone number and a correct email. If the email is correct and this error is still showing up, then the email is already used, so introduce another one', house.name);\r\n            });\r\n    };\r\n\r\n    const alert = (message, title) => {\r\n        window.alert(`${title ? title + '\\n' : ''}${message}`);\r\n    };\r\n\r\n    const addNewReview = () => {\r\n        // Check if nameUser is empty\r\n        if (nameUser.trim() === '') {\r\n            alert('Please enter a name.', house.name);\r\n            return; // Stop execution if nameUser is empty\r\n        }\r\n        // Insert new client and reservation into the database\r\n        const userData = {\r\n            username: nameUser,\r\n        };\r\n        console.log(userData)\r\n        axios\r\n            .post('/api/v1/users', userData)\r\n            .then(response => {\r\n                const userId = response.data.id;\r\n                const reviewData = {\r\n                    idHouse: houseid,\r\n                    idUser: userId,\r\n                    description: description,\r\n                    starsCount: stars,\r\n                };\r\n                axios.post('/api/v1/reviews', reviewData).then(() => {\r\n                    // Reservation successfully inserted\r\n                    console.log(\"SUCCESS\");\r\n                    handleCloseAddReview();\r\n                    // Clear the input values\r\n                    setNameUser('');\r\n                    setDescription('');\r\n                    setStars('');\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.log('Error inserting client and reservation:', error);\r\n                alert('Name already exists. Please choose a different name.', house.name);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {loading ? (<h1>Loading...</h1>) : error ? (<h1>Error</h1>) : (\r\n                <>\r\n                    <div className='row justify-content-center mt-5 boxshadow m-5'>\r\n                        <div className='col-md-6'>\r\n                            <h1>{house.name}</h1>\r\n                            <Carousel>{renderImages()}</Carousel>\r\n                            <button className=\"btn btn-primary mt-5\" onClick={handleShowAddReview}>\r\n                                Add Review\r\n                            </button>\r\n                            <Modal show={showAddReview} onHide={handleCloseAddReview} size='lg'>\r\n                                <Modal.Header>\r\n                                    <Modal.Title>Write a review for {house.name}</Modal.Title>\r\n                                </Modal.Header>\r\n                                <Modal.Body>\r\n                                    <div className='row m-5'>\r\n                                        <NewReview name={nameUser} description={description} stars={stars}\r\n                                            setName={setNameUser} setDescription={setDescription} setStars={setStars} />\r\n                                    </div>\r\n                                </Modal.Body>\r\n                                <Modal.Footer>\r\n                                    <Link to={'#'}>\r\n                                        <button className='btn btn-primary m-2' style={{ float: 'right' }} onClick={addNewReview}>Submit review</button>\r\n                                    </Link>\r\n                                    <Button variant=\"secondary\" onClick={handleCloseAddReview}>\r\n                                        Go back\r\n                                    </Button>\r\n                                </Modal.Footer>\r\n                            </Modal>\r\n                            <h3 style={{ marginTop: '1rem' }}>Reviews:<></></h3>\r\n                        </div>\r\n                        <div className='col-md-5'>\r\n                            <div className='row'>\r\n                                <div style={{ textAlign: 'right' }}>\r\n                                    <h1>House details:</h1>\r\n                                    <hr />\r\n                                    <p><b>Address:</b> {house.address}</p>\r\n                                    <p><b>Location:</b> {house.location}</p>\r\n                                    <p><b>Price:</b> {house.price}</p>\r\n                                </div>\r\n                                <div>\r\n                                    <Link to={`/bedrooms/${houseid}`}>\r\n                                        <button className='btn btn-primary m-2' style={{ float: 'right' }} >View rooms</button>\r\n                                    </Link>\r\n                                    <Link to={`/bathrooms/${houseid}`}>\r\n                                        <button className='btn btn-primary m-2' style={{ float: 'right' }} >View bathrooms</button>\r\n                                    </Link>\r\n                                </div>\r\n\r\n                                <div style={{ textAlign: 'right' }}>\r\n                                    <p className='mt-3'><b>Select a date range for booking:</b></p>\r\n                                    <RangePicker format='YYYY-MM-DD' onChange={checkDisponibility} />\r\n                                </div>\r\n                                <div className='mt-3' style={{ textAlign: 'right' }}>\r\n                                    <p><b>Availability:</b> {isAvailable ? 'Available \\t' : 'Not Available \\t'}\r\n                                        <button disabled={!isAvailable} className=\"btn btn-primary\" onClick={handleShowBookNow}>\r\n                                            Book Now\r\n                                        </button>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <Modal show={showBookNow} onHide={handleCloseBookNow} size='lg'>\r\n                                <Modal.Header>\r\n                                    <Modal.Title>Booking details for {house.name}</Modal.Title>\r\n                                </Modal.Header>\r\n                                <Modal.Body>\r\n                                    <div className='row mt-5 m-5'>\r\n                                        <div className='col-md-6'>\r\n                                            <NewImageDisplay type={house.name} number={1} styling={\"smallimg\"} /> {/* Pass the necessary props */}\r\n                                        </div>\r\n                                        <div className='col-md-5'>\r\n                                            <div className='row'>\r\n                                                <div style={{ textAlign: 'right' }}>\r\n                                                    <hr />\r\n                                                    <p><b>From date:</b> {fromDate}</p>\r\n                                                    <p><b>To date:</b> {toDate}</p>\r\n                                                    <p><b>Total days:</b> {fromDate && toDate ? moment.duration(moment(toDate).diff(moment(fromDate))).asDays() + 1 : 0}</p>\r\n                                                    <p><b>Total amount:</b> {house.price * (fromDate && toDate ? moment.duration(moment(toDate).diff(moment(fromDate))).asDays() + 1 : 0)}</p>\r\n                                                    <hr />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <ClientRegistration name={nameClient} email={email} phoneNumber={phoneNumber} address={address}\r\n                                            setName={setNameClient} setEmail={setEmail} setPhoneNumber={setPhoneNumber} setAddress={setAddress} />\r\n                                    </div>\r\n                                </Modal.Body>\r\n                                <Modal.Footer>\r\n                                    <Link to={'#'}>\r\n                                        <button className='btn btn-primary m-2' style={{ float: 'right' }} onClick={addNewReservation}>Pay now</button>\r\n                                    </Link>\r\n                                    <Button variant=\"secondary\" onClick={handleCloseBookNow}>\r\n                                        Go back\r\n                                    </Button>\r\n                                </Modal.Footer>\r\n                            </Modal>\r\n\r\n\r\n                        </div>\r\n                        <div className='row justify-content-center mt-5'>\r\n                            {loading ? (<h1>Loading...</h1>) : error ? (<h1>Error</h1>) : (reviews.map(review => {\r\n                                return <div className='col-md-9'>\r\n                                    <Review review={review} />\r\n                                </div>\r\n\r\n                            }))}\r\n                        </div>\r\n                    </div>\r\n\r\n                </>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HouseDetails;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}